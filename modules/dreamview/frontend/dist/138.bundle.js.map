{"version":3,"file":"./138.bundle.js","mappings":"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","sources":["webpack:///./components/Navigation/BaiduMapAdapter.js"],"sourcesContent":["import { WGS84ToBD09LL } from 'utils/coordinate_converter';\n\nexport default class BaiduMapAdapter {\n  constructor() {\n    this.map = null;\n    this.controls = [];\n    this.initializedCenter = false;\n  }\n\n  isInitialized() {\n    return this.map !== null && Object.keys(this.map).length > 0;\n  }\n\n  loadMap(initPoint, divElementName) {\n    this.map = new BMap.Map(divElementName, { enableMapClick: false });\n\n    this.map.enableScrollWheelZoom();\n    this.map.addControl(\n      new BMap.MapTypeControl({\n        anchor: BMAP_ANCHOR_TOP_LEFT,\n        type: BMAP_NAVIGATION_CONTROL_SMALL,\n      }),\n    );\n    this.map.addControl(\n      new BMap.NavigationControl({\n        anchor: BMAP_ANCHOR_BOTTOM_RIGHT,\n        type: BMAP_NAVIGATION_CONTROL_SMALL,\n        enableGeolocation: false,\n      }),\n    );\n  }\n\n  setCenter(point) {\n    if (this.initializedCenter) {\n      this.map.setCenter(point);\n    } else {\n      this.map.centerAndZoom(point, 19);\n      this.initializedCenter = true;\n    }\n  }\n\n  setZoom(zoom) {\n    this.map.setZoom(zoom);\n  }\n\n  addEventHandler(eventName, handlerFunction) {\n    this.map.addEventListener(eventName, (event) => {\n      const clickedLatLng = event.point;\n      handlerFunction(clickedLatLng);\n    });\n  }\n\n  createPoint({ lat, lng }) {\n    return new BMap.Point(lng, lat);\n  }\n\n  createMarker(point, title, draggable = true) {\n    let label = null;\n    if (title) {\n      label = new BMap.Label(title, {\n        point,\n        offset: new BMap.Size(15, -15),\n      });\n    }\n\n    const marker = new BMap.Marker(point, {\n      label,\n      enableDragging: draggable,\n      rotation: 5,\n    });\n    marker.setLabel(label);\n    this.map.addOverlay(marker);\n    return marker;\n  }\n\n  createPolyline(path, color, opacity = 1.0, weight = 2.0) {\n    const options = {\n      geodesic: true,\n      strokeColor: color,\n      strokeOpacity: opacity,\n      strokeWeight: weight,\n    };\n    const polyline = new BMap.Polyline(path, options);\n    this.map.addOverlay(polyline);\n    return polyline;\n  }\n\n  createControl({\n    text, tip, color, offsetX, offsetY, onClickHandler,\n  }) {\n    const myControl = new NavigationControl(\n      text,\n      tip,\n      color,\n      new BMap.Size(offsetX, offsetY),\n      onClickHandler,\n    );\n    this.map.addControl(myControl);\n    this.controls.push(myControl);\n  }\n\n  disableControls() {\n    this.controls.forEach((control) => {\n      this.map.removeControl(control);\n    });\n  }\n\n  enableControls() {\n    this.controls.forEach((control) => {\n      this.map.addControl(control);\n    });\n  }\n\n  getMarkerPosition(marker) {\n    return marker.getPosition();\n  }\n\n  updatePolyline(polyline, newPath) {\n    polyline.setPath(newPath);\n  }\n\n  removePolyline(polyline) {\n    this.map.removeOverlay(polyline);\n  }\n\n  applyCoordinateOffset([lng, lat]) {\n    return WGS84ToBD09LL(lng, lat);\n  }\n}\n\nclass NavigationControl extends BMap.Control {\n  constructor(text, tip, color, offset, onClickHandler, ...args) {\n    super(...args);\n    this.defaultAnchor = BMAP_ANCHOR_TOP_LEFT;\n    this.defaultOffset = offset;\n    this.onClickHandler = onClickHandler;\n    this.title = tip;\n    this.text = text;\n    this.backgroundColor = color;\n  }\n\n  initialize(map) {\n    const controlDiv = document.createElement('div');\n\n    // Set CSS for the control border.\n    const controlUI = document.createElement('div');\n    controlUI.style.backgroundColor = this.backgroundColor;\n    controlUI.style.border = '2px solid #fff';\n    controlUI.style.borderRadius = '3px';\n    controlUI.style.boxShadow = '0 2px 6px rgba(0,0,0,.3)';\n    controlUI.style.cursor = 'pointer';\n    controlUI.style.marginBottom = '22px';\n    controlUI.style.textAlign = 'center';\n    controlUI.title = this.title;\n    controlDiv.appendChild(controlUI);\n\n    // // Set CSS for the control interior.\n    const controlText = document.createElement('div');\n    controlText.style.color = 'rgb(25,25,25)';\n    controlText.style.fontFamily = 'Roboto,Arial,sans-serif';\n    controlText.style.fontSize = '16px';\n    controlText.style.lineHeight = '38px';\n    controlText.style.paddingLeft = '5px';\n    controlText.style.paddingRight = '5px';\n    controlText.innerHTML = this.text;\n    controlUI.appendChild(controlText);\n\n    map.getContainer().appendChild(controlDiv);\n\n    controlUI.addEventListener('click', () => {\n      this.onClickHandler(controlText);\n    });\n\n    return controlDiv;\n  }\n}\n"],"names":["BaiduMapAdapter","this","map","controls","initializedCenter","Object","keys","length","initPoint","divElementName","BMap","Map","enableMapClick","enableScrollWheelZoom","addControl","MapTypeControl","anchor","BMAP_ANCHOR_TOP_LEFT","type","BMAP_NAVIGATION_CONTROL_SMALL","NavigationControl","BMAP_ANCHOR_BOTTOM_RIGHT","enableGeolocation","point","setCenter","centerAndZoom","zoom","setZoom","eventName","handlerFunction","addEventListener","event","clickedLatLng","lat","lng","Point","title","draggable","label","Label","offset","Size","marker","Marker","enableDragging","rotation","setLabel","addOverlay","path","color","opacity","weight","options","geodesic","strokeColor","strokeOpacity","strokeWeight","polyline","Polyline","text","tip","offsetX","offsetY","onClickHandler","myControl","push","forEach","control","removeControl","getPosition","newPath","setPath","removeOverlay","WGS84ToBD09LL","Control","args","defaultAnchor","defaultOffset","backgroundColor","controlDiv","document","createElement","controlUI","style","border","borderRadius","boxShadow","cursor","marginBottom","textAlign","appendChild","controlText","fontFamily","fontSize","lineHeight","paddingLeft","paddingRight","innerHTML","getContainer"],"sourceRoot":""}